<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Toy Correlation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="ext/numeric.js"></script>
    <script src="ext/cholesky.js"></script>    
    <script src="correlation.js"></script>
  </head>
  <body>
  <div class="container">
    <h1>Correlation matrix correction</h1>
    <div class="input-group mb-3">
      <span class="input-group-text">Correlation matrix</span>
      <textarea class="form-control" rows=3 id="corrMatrix">1, 0.9, 0.7
0.9, 1, 0.3
0.7, 0.3, 1</textarea>
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text">Minimum eigen value</span>
      <input type="text" class="form-control" id="minEigen" value="0">
    </div>
    <button class="btn btn-primary mb-3" onclick="correctIt()">Correct it !</button>
    <div class="input-group mb-3">
      <span class="input-group-text">Correlation matrix</span>
      <textarea class="form-control" rows=3 id="corrMatrixOut"></textarea>
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text">eigen values before</span>
      <input type="text" class="form-control" id="eigenBefore" value="">
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text">eigen values after</span>
      <input type="text" class="form-control" id="eigenAfter" value="">
    </div>
    <h1>Basket Correlation</h1>
    <div class="input-group mb-3">
      <span class="input-group-text">Asset 1</span>
      <input type="text" class="form-control" id="wgt1" value="50%">
      <input type="text" class="form-control" id="vol1" value="20%">
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text">Asset 2</span>
      <input type="text" class="form-control" id="wgt2" value="50%">
      <input type="text" class="form-control" id="vol2" value="10%">
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text">Correlation</span>
      <input type="text" class="form-control" id="corr" value="70%">
    </div>
    <button class="btn btn-primary mb-3" onclick="compute()">Compute volatility</button>
    <div class="input-group mb-3">
      <span class="input-group-text">Volatility basket</span>
      <input type="text" class="form-control" id="vol" value="">
    </div>
    <!--
    <h1>Implied Fx-Fx Correlation</h1>
    <div class="input-group mb-3">
      <span class="input-group-text">Ccy1/Ccy2</span>
      <input type="text" class="form-control" id="volCcy1" value="20%">
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text">Ccy2/Ccy3</span>
      <input type="text" class="form-control" id="volCcy2" value="10%">
    </div>
    <div class="input-group mb-3">
      <span class="input-group-text">Ccy1/Ccy3</span>
      <input type="text" class="form-control" id="volCcy3" value="14%">
    </div>
    <button class="btn btn-primary mb-3" onclick="computeImpliedCorr()">Compute implied correlation</button>
    <div class="input-group mb-3">
      <span class="input-group-text">Corr Ccy1/Ccy2 vs Ccy2/Ccy3</span>
      <input type="text" class="form-control" id="corrCcy" value="">
    </div>
    -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </div>
  </body>
</html>